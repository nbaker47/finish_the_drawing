{% extends "base.html" %}

{% block content %}
<div class='d-flex align-items-center min-vh-100 '>
    <!-- Login Box -->
    <div class="container text-center box-outline pokadot bounce-in " style='width: fit-content;'>
        <form class="form-signin" action="/create-user" method="POST">

            <h1 class="h3 mb-3 font-weight-normal">Registration</h1>

            <!-- Password / drawing warning -->
            <div class="alert alert-danger" role="alert" id='passWarn'>
                <span id='warnSpan'></span>
            </div>

            <label for="inputusername" class="sr-only">Username</label>
            <input type="text" id="username" name="username" class="form-control" placeholder="Username" required>
            
            {% if username_exists %}
            <div class="alert alert-warning" role="alert">
                Username already exists!
            </div>
            {% endif %}

            <br>

            <label for="inputPassword" class="sr-only">Password</label>
            <input type="password" id="password" name="password" class="form-control" placeholder="Password" required>

            <br>

            <!-- Drawing interface -->
            <div class="text-center drawing-interface">
                <!-- Pencil Man -->
                <div id="pencil-container-register" class="container">
                    <div class="row">
                        <div class="col-2 p-0">
                            <img id="pencil-image" src="/static/media/pencil_neutral.png">
                        </div>
                        <div class="col-10">
                            <div id="pencil-text" class="bubble left want-to-invert">
                                <span class='want-to-invert'> Draw your profile picture for the world to see! </span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class='inner-interface'>
                    <!-- Canvas -->
                    <canvas id="drawing-canvas" width='280px' height='245px' class='want-to-invert'></canvas>

                    <!-- Submit button and Back button -->
                    <div class="row-col-2 text-center button-container d-flex want-to-gray">
                        <div class='col-md-6'>
                            <button id="back-button" type='button' class="btn mx-auto back-button custom-button" onclick="undoLastStroke()"><i class="fas fa-undo"></i></button>
                        </div>
                        <div class='col-md-6'>
                            <button id="submit-button" type='button' class="btn mx-auto submit-button custom-button">Submit</button>
                        </div>
                    </div>
                    <div class='container'>
                        <button class="btn btn-lg btn-info btn-block mt-4 w-50 d-flex justify-content-center mx-auto" onclick="select()">Back</button>
                    </div>
                </div>
            </div>
            <br>
        </form>
    </div>
</div>
{% endblock %}

{% block scripts %}
<!-- CANVAS DRAWING -->
<script src="/static/js/canvas_register.js"></script>
<script src="/static/js/register.js"></script>
{% endblock %}
